
version: 1
version_name: 1 - Init
fields:
  - name: id
    type: INT8
    primary: true
  - name: code
    type: TEXT
  - name: flow
    type: TEXT
  - name: flow_version
    type: INT2
  - name: state
    type: TEXT
    not_null: true
  - name: state_final
    type: INT2
    not_null: true
  - name: created_at
    type: TIMESTAMPTZ
  - name: updated_at
    type: TIMESTAMPTZ
  - name: cancelled_at
    type: TIMESTAMPTZ
  - name: closed_at
    type: TIMESTAMPTZ
  - name: price_updated_at
    type: TIMESTAMPTZ
  - name: mark_paid_at
    type: TIMESTAMPTZ
  - name: admin_id
    type: INT8
  - name: created_by_admin_id
    type: INT8
  - name: merchant_id
    type: INT8
    not_null: true
  - name: merchant
    type: TEXT
  - name: note_admin
    type: TEXT
  - name: note_cancel
    type: TEXT
  - name: note_order
    type: TEXT
  - name: note_shipping
    type: TEXT
  - name: note_admin_merchant
    type: TEXT
  - name: payment_status
    type: INT4
  - name: payment_type
    type: INT4
  - name: prepaid_amount_vnd
    type: INT4
  - name: basket_value_vnd
    type: INT4
  - name: basket_value_x
    type: INT4
  - name: remain_amount_vnd
    type: INT4
  - name: cod_amount_vnd
    type: INT4
  - name: discount_vnd
    type: INT4
  - name: discount_x
    type: INT4
  - name: us_tax_x
    type: INT4
  - name: us_shipping_fee_x
    type: INT4
  - name: purchase_fee_x
    type: INT4
  - name: purchase_fee_vnd
    type: INT4
  - name: surcharge_x
    type: INT4
  - name: gido_fee_x
    type: INT4
  - name: gido_fee_vnd
    type: INT4
  - name: total_fee_vnd
    type: INT4
  - name: total_amount_vnd
    type: INT4
  - name: order_items_json
    type: JSONB
  - name: coupon_code
    type: TEXT
  - name: total_items
    type: INT2
  - name: closed_items
    type: INT2
  - name: cancelled_items
    type: INT2
  - name: plan_id
    type: INT8
  - name: plan_name
    type: TEXT
  - name: is_test
    type: INT2
indexs:
  - name: merchant_order_admin_id_idx
    key: admin_id
  - name: merchant_order_merchant_id_idx
    key: merchant_id
  - name: merchant_order_merchant_idx
    key: merchant
  - name: merchant_order_state_idx
    key: state
  - name: merchant_order_state_final_idx
    key: state_final
  - name: merchant_order_created_at_idx
    key: created_at
  - name: merchant_order_updated_at_idx
    key: updated_at
  - name: merchant_order_price_updated_at_idx
    key: price_updated_at
  - name: merchant_order_mark_paid_at_idx
    key: mark_paid_at
  - name: merchant_order_cancelled_at_idx
    key: cancelled_at
  - name: merchant_order_closed_at_idx
    key: closed_at
