
version: 1
version_name: 1 - Init
fields:
  - name: id
    old_name:
    type: bigint
    primary: true
    not_null: true
  - name: cod_session_id
    old_name:
    type: bigint
    not_null: true
  - name: revision
    old_name:
    type: bigint
  - name: prev_state
    old_name:
    type: text
  - name: curr_state
    old_name:
    type: text
  - name: user_id
    old_name:
    type: bigint
    not_null: true
  - name: changes
    old_name:
    type: jsonb
    not_null: true
  - name: updated_at
    old_name:
    type: timestamptz
    not_null: true
indexs:
  - name: cod_session_history_changes_idx
    key: changes jsonb_path_ops
    using: gin
  - name: cod_session_history_cod_session_id_idx
    key: cod_session_id
    using: btree
  - name: cod_session_history_curr_state_idx
    key: curr_state
    using: btree
  - name: cod_session_history_id_idx
    key: id
    using: btree
  - name: cod_session_history_prev_state_idx
    key: prev_state
    using: btree
  - name: cod_session_history_updated_at_idx
    key: updated_at
    using: btree

drop_fields:
#  -name: fieldname
#  -name: fieldname
